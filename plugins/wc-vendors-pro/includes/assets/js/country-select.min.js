jQuery(function(u){if("undefined"==typeof wcv_country_select_params)return!1;if(u().select2){function t(){u("select.country_select:visible, select.state_select:visible").each(function(){u(this).select2({placeholderOption:"first",width:"100%"})})}t(),u(document.body).bind("country_to_state_changed",function(){t()})}var e=wcv_country_select_params.countries.replace(/&quot;/g,'"'),p=u.parseJSON(e);u(document.body).on("change","select.country_to_state",function(){var t=u(this).closest(".wcv_shipping_rates"),e=u(this).val(),n=u(this).parent().next(),c=n.find(".shipping_state"),s=c.attr("name"),a=c.val(),o=c.attr("placeholder")||"";if(p[e]){var i="",r=p[e];for(var l in r)r.hasOwnProperty(l)&&(i=i+'<option value="'+l+'">'+r[l]+"</option>");var _=u('<select name="'+s+'" class="state_select shipping_state" placeholder="'+o+'"><option value="">'+wcv_country_select_params.i18n_select_state_text+"</option>"+i+"</select>");n.html(_),_.val(a).change(),u(document.body).trigger("country_to_state_changed",[e,t])}else c.is("select")&&(_=u('<input type="text" class="shipping_state" name="'+s+'" placeholder="'+o+'" />'),n.html(_),u(document.body).trigger("country_to_state_changed",[e,t]));u(document.body).trigger("country_to_state_changing",[e,t])}),u(".country_to_state").change()});