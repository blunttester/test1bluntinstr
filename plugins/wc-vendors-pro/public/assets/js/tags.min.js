jQuery(function(t){t(document.body).on("wcv-search-tag-init",function(){t(":input.wcv-tag-search").filter(":not(.enhanced)").each(function(){var a={allowClear:!!t(this).data("allow_clear"),placeholder:t(this).data("placeholder"),tags:t(this).data("tags"),tokenSeparators:wcv_tag_search_params.separator,minimumInputLength:t(this).data("minimum_input_length")?t(this).data("minimum_input_length"):"2",maximumSelectionLength:wcv_tag_search_params.tag_limit,escapeMarkup:function(a){return a},ajax:{url:wcv_tag_search_params.ajax_url,dataType:"json",delay:250,data:function(a){return{term:a.term,action:t(this).data("action")||"wcv_json_search_tags",security:wcv_tag_search_params.nonce}},processResults:function(a){var n=[];return a&&t.each(a,function(a,t){n.push({id:a,text:t})}),{results:n}},cache:!0}};a=t.extend(a,{language:{formatMatches:function(a){return 1===a?wcv_tag_search_params.i18n_matches_1:wcv_tag_search_params.i18n_matches_n.replace("%qty%",a)},formatNoMatches:function(){return wcv_tag_search_params.i18n_no_matches},formatAjaxError:function(){return wcv_tag_search_params.i18n_ajax_error},formatInputTooShort:function(a,t){var n=t-a.length;return 1==n?wcv_tag_search_params.i18n_input_too_short_1:wcv_tag_search_params.i18n_input_too_short_n.replace("%qty%",n)},formatInputTooLong:function(a,t){var n=a.length-t;return 1==n?wcv_tag_search_params.i18n_input_too_long_1:wcv_tag_search_params.i18n_input_too_long_n.replace("%qty%",n)},formatSelectionTooBig:function(a){return 1===a?wcv_tag_search_params.i18n_selection_too_long_1:wcv_tag_search_params.i18n_selection_too_long_n.replace("%qty%",a)},maximumSelected:function(a){return 1===a.maximum?wcv_tag_search_params.i18n_selection_too_long_1:wcv_tag_search_params.i18n_selection_too_long_n.replace("%qty%",a.maximum)},formatLoadMore:function(a){return wcv_tag_search_params.i18n_load_more},formatSearching:function(){return wcv_tag_search_params.i18n_searching}}}),t(this).select2(a).addClass("enhanced")})}),t(document).ready(function(){t(document.body).trigger("wcv-search-tag-init")})});